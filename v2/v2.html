<style>
body {
  margin: 0;
}
</style>

<mm-context-menu>
  <li>hi</li>
  <li>hello</li>
</mm-context-menu>
<mm-map></mm-map>


<script src=mm-map.mjs></script>
<script src=mm-node.mjs></script>
<script src=mm-context-menu.mjs></script>

<script>
const promises = [
  customElements.whenDefined("mm-map"),
  customElements.whenDefined("mm-node"),
  customElements.whenDefined("mm-context-menu")
];

Promise.all(promises).then(() => {
  const map = document.getElementsByTagName("mm-map")[0];
  window.addEventListener("keydown", (e) => { map.handleKeyDown(e); });
  map.setStorage(window.localStorage);
  map.loadFromStorage();
});
</script>
