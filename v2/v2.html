<!doctype html>
<link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  height: 100vh;
  font-family: 'Lato', sans-serif;
  font-size: 15px;
}
</style>

<script type=module src=mm-map.mjs></script>
<script type=module src=mm-node.mjs></script>
<script type=module src=mm-context-menu.mjs></script>
<script type=module src=mm-scroller-node.mjs></script>

<script>
const promises = [
  customElements.whenDefined("mm-map"),
  customElements.whenDefined("mm-node"),
  customElements.whenDefined("mm-context-menu"),
  customElements.whenDefined("mm-scroller-node")
];

Promise.all(promises).then(() => {
  const map = document.createElement("mm-map");
  document.body.appendChild(map);
  window.addEventListener("keydown", (e) => { map.handleKeyDown(e); });
  map.setStorage(window.localStorage);
  map.loadFromStorage();
});
</script>
